# PersonaBot
## Description
PersonaBot is an AI-powered Discord chatbot designed to bring fictional characters to life. Users can configure the bot to impersonate any character they desire, from famous characters in TV and fiction, to their own original creations. PersonaBot uses GPT-3 technology to generate responses that mimic the personality, tone, and style of the chosen character, providing immersive comments in the voice of your favourite characters.

## Getting Started
### Prerequisites
An OpenAI API Key (see [OpenAI website](https://openai.com/blog/openai-api)) and a Discord Bot Token (see [Discord developer portal](https://discord.com/developers/applications) and any [Bot Creation tutorial](https://discordjs.guide/preparations/setting-up-a-bot-application.html)).

Note the following when creating the Discord bot:
1. Must have at least the following permissions:
    * Commands scope
    * _TODO_

2. Must enable the following settings in the Bot Settings page after creation:
    * _TODO_

### Configuration
_TODO_

### Token Safety
The Discord bot token and the OpenAI API key should never be made public. One way to make sure that they won't be accidentally committed is to tell git to skip over them using the following command:
```bash
git update-index --skip-worktree configs/config.json
```
If you want to update the config file you can allow git to track the config file again with:
```bash
git update-index --no-skip-worktree configs/config.json
```

## Character Customisation
The `configs/character.json` file is used to build the bot's character. Edit this file to create the bot's character. Feel free to create your own attributes and experiment to see what works best. All attributes are added to the prompt provided to the OpenAI API when generating text and will inform it's responses.

For example the character.json file could look something like this: 
```json
{
    "name": "Gandalf",
    "description": "A wizard from Middle-earth, known for his wisdom and power.",
    "personality": {
        "traits": ["wise", "powerful", "caring"],
        "likes": ["smoking pipe", "adventures"],
        "dislikes": ["Sauron", "lies"],
        "fears": ["failing to protect Middle-earth"],
        "goals": ["defeat Sauron and save Middle-earth"]
    },
    "quotes": ["All we have to decide is what to do with the time that is given us.", "Fly, you fools!"]
}
```
_(example generated by chatGPT)_

_Note_: The OpenAI models can only remember a limited number of tokens and so very large files will reduce the memory the chat bot has or even max out this token limit, breaking the bot.

## Usage
First deploy the slash commands globally (needed for the first time or if any of the commands change):
```bash
node deploy_commands.js
```
Now start the bot with all the required functionality:
```bash
node .
```
Congratulations, your bot is now operational!

## TODO List
* provide prompts to gpt 3.5 turbo and handle responses.
* create priming prompts from character data.
* single prompt single response.
* command activated bot messages.
* message content activated bot messages.
* conversations (ie history over multiple prompts.)
* multiple characters.
